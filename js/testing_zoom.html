<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <script src="https://d3js.org/d3.v4.js"></script>
    <!--<script src="https://d3js.org/topojson.v2.min.js"></script>-->
    <script src="https://unpkg.com/topojson-client@3"></script>
    <style>
        /*body { margin:10px;position:fixed;top:0;right:0;bottom:0;left:0; }*/
        #map { border:1px solid #000; }
    </style>
</head>

<body>
<div id="map"></div>
<script>
    const map = d3.select("#map");
    const width = map.node().getBoundingClientRect().width;
    const height = width / 2;

    const projection = d3.geoMercator();
    const path = d3.geoPath().projection(projection);

    const zoom = d3.zoom()
        .scaleExtent([1, 40])
        .translateExtent([[0,0], [width, height]])
        .extent([[0, 0], [width, height]])
        .on("zoom", zoomed);

    const svg = map.append("svg")
        .attr("width", width)
        .attr("height", height)
        .call(zoom);

    const g = svg.append("g");


    d3.json("https://unpkg.com/world-atlas@1/world/110m.json", function(error, world) {
        if (error) throw error;

        g.selectAll("path")
            .data(topojson.feature(world, world.objects.countries).features)
            .enter().append("path")
            .attr("d", path);

    });

    function zoomed(){
        g.attr("transform", d3.event.transform);
    }
</script>
</body>